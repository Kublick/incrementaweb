---
import Layout from "../layouts/Layout.astro";
const response = await fetch(
  "https://incrementaback.blancarte.workers.dev/users"
);
const data = await response.json();
---

<Layout title="Registros Web">
  <div class="container mx-auto mt-4">
    <h1>Registros Web</h1>

    <table class="mt-10">
      <thead>
        <th class="w-40">id</th>
        <th>Email</th>
        <th class="w-40">Fecha</th>
      </thead>
      <tbody>
        {
          data.map((user: any, index: number) => (
            <tr class="text-center">
              <td>{index + 1}</td>
              <td class="px-8">{user.email}</td>
              <td>{new Date(user.createdAt * 1000).toLocaleDateString()}</td>
            </tr>
          ))
        }
      </tbody>
    </table>
  </div>
</Layout>
